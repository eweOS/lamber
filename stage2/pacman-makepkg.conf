DLAGENTS=('ftp::/usr/bin/curl -qfC - --ftp-pasv --retry 3 --retry-delay 3 -o %o %u'
          'http::/usr/bin/curl -qb "" -fLC - --retry 3 --retry-delay 3 -o %o %u'
          'https::/usr/bin/curl -qb "" -fLC - --retry 3 --retry-delay 3 -o %o %u'
          'rsync::/usr/bin/rsync --no-motd -z %u %o')

VCSCLIENTS=('bzr::breezy'
            'fossil::fossil'
            'git::git'
            'hg::mercurial'
            'svn::subversion')

CARCH="$(arch)"
CHOST="$(arch)-ewe-linux-musl"
RUSTARCH="@@BUILD_GEN_RUSTARCH@@"
RUSTHOST="${RUSTARCH}-unknown-linux-musl"

JOBS="$(nproc)"
CFLAGS="@@BUILD_GEN_CFLAGS@@"
CXXFLAGS="$CFLAGS"
MAKEFLAGS="CC=cc CXX=c++ LIBTOOL=slibtool LIBTOOLIZE=slibtoolize -j$JOBS"
RUSTFLAGS="-C target-feature=-crt-static"
LTOFLAGS="-flto=auto"
RUST_LTOFLAGS="-Clink-arg=-flto=auto"

# Go Flags are not exported by default, need to export explicitly
export CGO_CFLAGS="${CFLAGS}"
export CGO_CXXFLAGS="${CXXFLAGS}"
export CGO_LDFLAGS="${LDFLAGS}"
export GOFLAGS="-buildmode=pie -trimpath -ldflags=-linkmode=external -mod=readonly -modcacherw"

BUILDENV=(!distcc color !ccache check !sign)

OPTIONS=(strip docs !libtool !staticlibs emptydirs zipman purge !upx !debug @@BUILD_GEN_LTO@@ !autodeps)

INTEGRITY_CHECK=(sha256)
STRIP_BINARIES="--strip-all"
STRIP_SHARED="--strip-unneeded"
STRIP_STATIC="--strip-debug"

MAN_DIRS=(usr/{,local/}{,share/}man)
DOC_DIRS=(usr/{,local/}{,share/}{doc,gtk-doc})
PURGE_TARGETS=(usr/{,share/}info/dir .packlist *.pod)
LIB_DIRS=('lib:usr/lib')

#PKGDEST=/tmp/staging
#SRCDEST=/tmp/sources
#LOGDEST=/tmp/logs

COMPRESSGZ=(gzip -c -f)
COMPRESSBZ2=(bzip2 -c -f)
COMPRESSXZ=(xz)
COMPRESSZST=(zstd -c -T0 -)
COMPRESSLRZ=(lrzip -q)
COMPRESSLZO=(lzop -q)
COMPRESSZ=(compress -c -f)

PKGEXT='.pkg.tar.zst'
SRCEXT='.src.tar.bz2'

